# Zelda Image Tool 1.00

이 도구는 **젤다의 전설 Ocarina of Time / Master Quest** 이미지 편집을
위해 제작된 PyQt5 기반 툴입니다.\
텍스트 입력 → 폰트 스타일 적용 → PNG 보스카드/대사 이미지 자동 생성까지
지원합니다.

본 README는 Windows 11 환경에서의 폰트 깨짐 문제 해결과\
최신 **장평(Stretch) 기능 패치 적용 버전** 기준으로 작성되었습니다.

------------------------------------------------------------------------

## 📦 기능 개요

-   한글/일본어 텍스트 렌더링 완전 지원\
-   장평(가로 스케일) 기능 --- 글자가 실제로 늘어남\
-   테두리, 볼드, 그림자 효과\
-   픽셀 폰트 모드 (1bit 렌더링)\
-   폰트 1/2 병렬 지원\
-   Zelda 텍스트용 태그 파싱
    -   `<size>`, `<font>`, `<bold>`, `<stretch>` 등\
-   PNG 보스 카드 자동 편집\
-   이미지 폴더 내 PNG 자동 탐색 / 좌우 이동\
-   Ctrl+S / Ctrl+O 등 단축키 지원\
-   Windows 11에서 발생하는 PyQt5 폰트 문제 해결

------------------------------------------------------------------------

## ⚙️ 설치 방법

### 1. Python 설치

-   Python 3.10 이상 권장\
-   https://www.python.org/downloads/ 에서 설치\
-   "Add to PATH" 꼭 체크

### 2. 필요한 패키지 설치

``` bash
pip install PyQt5 pillow
```

### 3. main.py 실행

``` bash
python main.py
```

------------------------------------------------------------------------

## 🖼️ 주요 기능 설명

### 1. 텍스트 입력

왼쪽 패널의 입력창에 대사를 입력하면\
오른쪽에 **실제 게임 스타일의 미리보기**가 즉시 반영됩니다.

### 2. 폰트 선택

-   폰트1: 기본 글꼴\
-   폰트2: `<font2>` 태그 사용 시 전환\
-   폰트 변경 시 즉시 미리보기 반영

### 3. 장평(Stretch)

이제 글자가 **정상적으로 가로로 늘어나고 줄어든다.**\
커서 이동 / 테두리 / 그림자 모두 자동 보정됨.

예시 태그:

    <stretch 1.3>길어진 텍스트</stretch>

### 4. Pixel Font Mode

Zelda64의 원본 텍스트 느낌을 위한 "1비트 픽셀 렌더"\
특히 OOT의 카카리코/상점류 텍스트 스타일에 어울림.

### 5. Boss Card Mode

보스 카드 PNG의 **상단 영역만 교체**,\
하단(보스 얼굴/바탕)은 원본 유지.

### 6. 자동 이미지 탐색

작업 폴더의 PNG 파일을 자동으로 리스트화\
좌/우 방향키로 이미지 전환\
완료된 이미지는 체크마크 표시됨

------------------------------------------------------------------------

## 🪄 Zelda 전용 태그 목록

  태그                              기능
  --------------------------------- ----------------
  `<size 24>`                       폰트 크기 변경
  `<font 2>`                        폰트2로 전환
  `<bold>`                          굵게
  `<stretch 1.2>`                   가로폭 증가
  `<stretch 0.8>`                   가로폭 감소
  `</bold>`, `</font>`, `</size>`   태그 종료

------------------------------------------------------------------------

## 🪛 Windows 11 PyQt 폰트 깨짐 해결

Windows 11에서는 기본 폰트 "Segoe UI Variable" 때문에\
PyQt5 앱에서 글자가 안 보이는 문제가 있다.

이 프로젝트는 main.py에서 다음 코드를 적용하여 해결함:

``` python
app.setFont(QtGui.QFont("Malgun Gothic"))
```

필수 패치이므로 삭제하지 말 것.

------------------------------------------------------------------------

## 📁 파일 저장 방식

편집 중:

    (원본.png)

저장 시:

    output/원본.png

자동으로 output 폴더 생성 후 저장됨.

------------------------------------------------------------------------

## 🎮 Zelda 이미지 모드 설명

### 기본 미리보기

입력한 텍스트가 이미지 전체에 렌더링됨.

### 보스카드 모드

-   보스카드 PNG는 **상단 = 수정**, **하단 = 원본**
-   Zelda 1.0 / 1.2 기반 리소스와 동일 구조

------------------------------------------------------------------------

## 🔧 장평 패치 내역 (중요)

기존 버전: - 장평이 "커서 이동"에만 적용\
- 글리프는 그대로 → 글자가 흔들리는 문제 발생

패치 후: - 글리프를 실제로 스케일하여 늘림/압축\
- bold/outline/shadow가 스케일된 glyph 기준으로 적용\
- 픽셀 모드에서도 완전 호환

🎉 이제 진짜 장평이 구현됨!

------------------------------------------------------------------------

## 🚀 향후 계획

-   텍스트 자동 줄바꿈\
-   Zelda64의 원본 커서 간격 정확 재현\
-   테마별 UI 스킨 모드\
-   확장 JSON 기반 스크립트 관리

------------------------------------------------------------------------

## 📝 라이선스

개인 연구/모드 개발 용도.\
상업적 배포 금지.

------------------------------------------------------------------------

## 🙌 문의 / 지원

[한식구 Discord](https://discord.gg/srRcHyA3a4)
